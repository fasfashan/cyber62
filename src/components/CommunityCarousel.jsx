import React, { useState, useEffect } from "react";
import { ChevronRight, ChevronLeft } from "lucide-react";

export default function CommunityCarousel() {
  const [currentIndex, setCurrentIndex] = useState(0);
  const [cardsToShow, setCardsToShow] = useState(3);

  const communityCards = [
    {
      title: "Malware",
      description:
        "Malware is software designed to damage or exploit systems, spread via emails, websites, downloads, or USB drives.",
      icon: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="65"
          height="65"
          viewBox="0 0 65 65"
          fill="none"
          className="group-hover:[&>g>path]:fill-white"
        >
          <g clipPath="url(#clip0_2306_799)">
            <path
              d="M32.4986 31.2305C31.7963 31.2305 31.2275 31.7993 31.2275 32.5016C31.2275 33.2038 31.7963 33.7726 32.4986 33.7726C33.2009 33.7726 33.7697 33.2038 33.7697 32.5016C33.7697 31.7993 33.2009 31.2305 32.4986 31.2305Z"
              fill="#06A6B2"
              className="group-hover:fill-white"
            />
            <path
              d="M63.7289 31.2305H62.4292C62.2735 27.735 61.4696 24.3031 60.0364 21.0142C58.492 17.471 56.2994 14.2647 53.5158 11.4842C50.7321 8.70056 47.5258 6.50794 43.9858 4.96358C40.6937 3.53043 37.2618 2.72647 33.7695 2.57076V1.27108C33.7695 0.56881 33.2007 0 32.4984 0C31.7961 0 31.2273 0.56881 31.2273 1.27108V2.57076C27.7318 2.72647 24.2999 3.53043 21.011 4.96358C17.4679 6.50794 14.2615 8.70056 11.4811 11.4842C8.69738 14.2679 6.50477 17.4742 4.9604 21.0142C3.52725 24.3063 2.72329 27.7382 2.56759 31.2305H1.27108C0.56881 31.2305 0 31.7993 0 32.5016C0 33.2039 0.56881 33.7727 1.27108 33.7727H2.57076C2.72647 37.2681 3.53043 40.7001 4.96358 43.989C6.50794 47.5321 8.70056 50.7384 11.4842 53.5189C14.2679 56.3026 17.4742 58.4952 21.0142 60.0396C24.3063 61.4727 27.7382 62.2767 31.2305 62.4324V63.7321C31.2305 64.4344 31.7993 65.0032 32.5016 65.0032C33.2039 65.0032 33.7727 64.4344 33.7727 63.7321V62.4324C37.2681 62.2767 40.7001 61.4727 43.989 60.0396C47.5321 58.4952 50.7384 56.3026 53.5189 53.5189C56.3026 50.7353 58.4952 47.529 60.0396 43.989C61.4727 40.6969 62.2767 37.265 62.4324 33.7727H63.7321C64.4344 33.7727 65.0032 33.2039 65.0032 32.5016C65.0032 31.7993 64.4344 31.2305 63.7321 31.2305H63.7289ZM55.3525 33.7695H59.8902C59.1975 47.4209 47.4209 59.1943 33.7727 59.8871V55.3493C33.7727 54.647 33.2039 54.0782 32.5016 54.0782C31.7993 54.0782 31.2305 54.647 31.2305 55.3493V59.8871C17.5791 59.1943 5.80567 47.4177 5.11293 33.7695H9.6507C10.353 33.7695 10.9218 33.2007 10.9218 32.4984C10.9218 31.7961 10.353 31.2273 9.6507 31.2273H5.11293C5.80567 17.5791 17.5791 5.80567 31.2305 5.11293V9.6507C31.2305 10.353 31.7993 10.9218 32.5016 10.9218C33.2039 10.9218 33.7727 10.353 33.7727 9.6507V5.11293C47.4241 5.80567 59.1975 17.5823 59.8902 31.2305H55.3525C54.6502 31.2305 54.0814 31.7993 54.0814 32.5016C54.0814 33.2039 54.6502 33.7727 55.3525 33.7727V33.7695Z"
              fill="#06A6B2"
              className="group-hover:fill-white"
            />
            <path
              d="M50.2749 33.7694H43.9259V31.1033C46.8208 30.5123 49.0039 27.9479 49.0039 24.8845C49.0039 24.1823 48.435 23.6135 47.7328 23.6135C47.0305 23.6135 46.4617 24.1823 46.4617 24.8845C46.4617 26.6005 45.3209 28.0559 43.7575 28.5294C43.1823 26.0444 41.1422 24.1124 38.5969 23.6993C38.7589 23.2735 38.8447 22.8159 38.8447 22.3456C38.8447 20.6518 38.1838 19.0566 36.9858 17.8586C36.8618 17.7347 36.7316 17.6171 36.5981 17.5027L38.4729 15.6279C38.9687 15.1322 38.9687 14.3282 38.4729 13.8325C37.9772 13.3368 37.1733 13.3368 36.6775 13.8325L34.2593 16.2507C33.6905 16.0855 33.0994 15.9997 32.4957 15.9997C31.8919 15.9997 31.3008 16.0855 30.732 16.2507L28.3138 13.8325C27.8181 13.3368 27.0141 13.3368 26.5184 13.8325C26.0227 14.3282 26.0227 15.1322 26.5184 15.6279L28.3932 17.5027C28.2598 17.6171 28.1295 17.7347 28.0056 17.8586C26.8076 19.0566 26.1466 20.6518 26.1466 22.3456C26.1466 22.8222 26.2356 23.2766 26.3945 23.6993C23.8491 24.1124 21.809 26.0444 21.2339 28.5294C19.6704 28.0559 18.5296 26.6005 18.5296 24.8845C18.5296 24.1823 17.9608 23.6135 17.2586 23.6135C16.5563 23.6135 15.9875 24.1823 15.9875 24.8845C15.9875 27.951 18.1706 30.5154 21.0655 31.1033V33.7694H14.7164C14.0141 33.7694 13.4453 34.3382 13.4453 35.0405C13.4453 35.7428 14.0141 36.3116 14.7164 36.3116H21.0655V38.9777C18.1706 39.5687 15.9875 42.1331 15.9875 45.1965C15.9875 45.8987 16.5563 46.4675 17.2586 46.4675C17.9608 46.4675 18.5296 45.8987 18.5296 45.1965C18.5296 43.5059 19.6355 42.0728 21.1608 41.5739C21.8789 47.1889 26.6868 51.5423 32.4957 51.5423C38.3045 51.5423 43.1124 47.1889 43.8305 41.5739C45.3558 42.0696 46.4617 43.5059 46.4617 45.1965C46.4617 45.8987 47.0305 46.4675 47.7328 46.4675C48.435 46.4675 49.0039 45.8987 49.0039 45.1965C49.0039 42.13 46.8208 39.5656 43.9259 38.9777V36.3116H50.2749C50.9772 36.3116 51.546 35.7428 51.546 35.0405C51.546 34.3382 50.9772 33.7694 50.2749 33.7694ZM29.8073 19.6509C30.1346 19.3236 30.5128 19.0598 30.9354 18.8692C31.4248 18.6467 31.9523 18.5323 32.4988 18.5323C33.0454 18.5323 33.5729 18.6467 34.0655 18.8692C34.4849 19.0566 34.8631 19.3204 35.1904 19.6477C35.9085 20.369 36.3057 21.3223 36.3057 22.3392C36.3057 22.6792 36.1723 22.997 35.9339 23.2353C35.6924 23.4768 35.3747 23.6071 35.0378 23.6071H29.9599C29.2608 23.6071 28.6888 23.0383 28.6888 22.336C28.6888 21.3192 29.086 20.3627 29.8041 19.6445L29.8073 19.6509ZM41.3869 40.1185C41.3869 44.5863 38.0694 48.2947 33.7699 48.9144V37.5795C33.7699 36.8772 33.2011 36.3084 32.4988 36.3084C31.7966 36.3084 31.2278 36.8772 31.2278 37.5795V48.9144C26.9283 48.2979 23.6108 44.5895 23.6108 40.1185V29.9625C23.6108 27.8621 25.3204 26.1525 27.4209 26.1525H31.2309V27.4235C31.2309 28.1258 31.7997 28.6946 32.502 28.6946C33.2043 28.6946 33.7731 28.1258 33.7731 27.4235V26.1525H37.5832C39.6836 26.1525 41.3932 27.8621 41.3932 29.9625V40.1185H41.3869Z"
              fill="#06A6B2"
              className="group-hover:fill-white"
            />
          </g>
          <defs>
            <clipPath id="clip0_2306_799">
              <rect width="65" height="65" fill="white" />
            </clipPath>
          </defs>
        </svg>
      ),
      link: "https://chat.whatsapp.com/JWOcfoa7YqK6pMFeE6BeNY",
    },
    {
      title: "Penetration Testing",
      description:
        "Penetration testing simulates attacks to identify and fix system vulnerabilities before cybercriminals exploit them.",
      icon: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="76"
          height="69"
          viewBox="0 0 76 69"
          fill="none"
          className="group-hover:[&>g>path]:fill-white"
        >
          <path
            d="M52.4576 27.3811C51.7869 27.3811 51.2441 27.9341 51.2441 28.6174V40.0885C51.2441 40.7719 51.7869 41.3249 52.4576 41.3249C53.1283 41.3249 53.671 40.7719 53.671 40.0885V28.6174C53.671 27.9341 53.1283 27.3811 52.4576 27.3811Z"
            fill="#06A6B2"
            className="group-hover:fill-white"
          />
          <path
            d="M75.1388 53.5889L68.0604 46.3796C67.2617 45.5659 65.9612 45.5659 65.1599 46.3796L64.7887 46.7578L63.3577 45.2998C68.1705 39.5043 67.9017 30.7927 62.5385 25.3284C61.5324 24.3059 60.4188 23.4687 59.2309 22.8088V11.2777C59.2309 10.5943 58.6882 10.0414 58.0175 10.0414C49.2213 10.0414 40.6402 6.70278 33.8536 0.643793C33.3954 0.234296 32.7119 0.234296 32.2536 0.643793C25.4671 6.70278 16.8834 10.0414 8.08468 10.0414C7.41396 10.0414 6.87124 10.5943 6.87124 11.2777V20.2918H1.81012C1.1394 20.2918 0.59668 20.8448 0.59668 21.5281C0.59668 22.2115 1.1394 22.7618 1.81012 22.7618H6.8738V33.9617H1.81012C1.1394 33.9617 0.59668 34.5147 0.59668 35.198C0.59668 35.8814 1.1394 36.4343 1.81012 36.4343H6.8738V39.8146C6.8738 42.6211 7.40372 45.2581 8.41492 47.6316H1.81012C1.1394 47.6316 0.59668 48.1846 0.59668 48.8679C0.59668 49.5513 1.1394 50.1042 1.81012 50.1042H9.70004C10.8751 51.99 12.3983 53.6567 14.2466 55.0443L32.333 68.6124C32.7605 68.9333 33.3442 68.9333 33.7717 68.6124L51.8581 55.0443C53.7679 53.6123 55.3423 51.8778 56.5429 49.8851C58.3733 49.3165 60.109 48.3697 61.645 47.0473L63.076 48.5054L62.7049 48.8836C61.9036 49.7026 61.9036 51.0249 62.7049 51.8413L69.7807 59.0506C70.5794 59.8643 71.8824 59.8643 72.6812 59.0506L75.1388 56.5466C75.9375 55.7329 75.9375 54.4053 75.1388 53.5889ZM31.8415 65.1748L15.6879 53.0542C14.5359 52.1882 13.5298 51.2023 12.6773 50.1042H23.3832L21.0869 51.6196C20.5237 51.9926 20.365 52.7568 20.7285 53.3306C21.0946 53.9045 21.8472 54.0662 22.4079 53.6932L28.1474 49.9034C28.726 49.5695 28.9717 48.5575 28.2677 47.9185L22.4079 44.04C21.8447 43.667 21.0972 43.8314 20.7285 44.4026C20.365 44.9764 20.5263 45.7406 21.0869 46.1136L23.3832 47.629H11.108C9.92532 45.3102 9.30068 42.6629 9.30068 39.812V36.4317H23.3858L21.0895 37.9445C20.5263 38.3175 20.3676 39.0817 20.7311 39.6529C21.0972 40.2294 21.8498 40.3885 22.4104 40.0181L28.2703 36.1396C28.8744 35.5606 28.8232 34.7103 28.2703 34.2434L22.4104 30.3649C21.8472 29.9919 21.0997 30.1563 20.7311 30.7301C20.3676 31.3013 20.5288 32.0681 21.0895 32.4385L23.3858 33.9539H9.30068V22.754H23.3858L21.0895 24.272C20.5263 24.6424 20.3676 25.4066 20.7311 25.9804C21.0972 26.5569 21.8524 26.7134 22.4104 26.3456L28.2703 22.4671C28.8591 21.9324 28.8284 21.056 28.2882 20.5892L22.4104 16.6924C21.8472 16.322 21.0997 16.4864 20.7311 17.0576C20.3676 17.6288 20.5288 18.3956 21.0895 18.766L23.3858 20.284H9.30068V12.4853C17.4133 12.2193 25.293 9.30843 31.844 4.17538V65.1669L31.8415 65.1748ZM50.4194 53.0542L34.2684 65.1722V4.1832C40.822 9.31365 48.6965 12.2271 56.8066 12.4931V21.7446C51.7788 20.0727 46.029 21.2673 42.0431 25.3284C36.388 31.0874 36.388 40.4563 42.0431 46.2127C45.0511 49.2774 49.1215 50.7511 53.1048 50.5059C52.3215 51.4449 51.428 52.2978 50.4194 53.0542ZM60.8258 44.4652C56.1205 49.2592 48.4636 49.2592 43.7583 44.4652C39.053 39.6686 39.053 31.8699 43.7583 27.0759C48.4636 22.2819 56.1231 22.2819 60.8258 27.0759C65.5311 31.8699 65.5311 39.6686 60.8258 44.4652ZM71.2322 57.0318L64.6863 50.3624L66.614 48.3984L73.1599 55.0677L71.2322 57.0344V57.0318Z"
            fill="#06A6B2"
            className="group-hover:fill-white"
          />
          <path
            d="M52.4576 42.7023C51.7869 42.7023 51.2441 43.2553 51.2441 43.9412C51.2441 44.6272 51.7869 45.1749 52.4576 45.1749C53.1283 45.1749 53.671 44.6194 53.671 43.936C53.671 43.2527 53.1283 42.6997 52.4576 42.6997V42.7023Z"
            fill="#06A6B2"
            className="group-hover:fill-white"
          />
        </svg>
      ),
      link: "https://chat.whatsapp.com/JkZqgaSDwvh9JFzvsOw37C",
    },
    {
      title: "Red Team/ Hacking",
      description:
        "Red Teaming simulates real-world cyberattacks to test and strengthen security beyond firewalls, antivirus, and penetration testing.",
      icon: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="79"
          height="65"
          viewBox="0 0 79 65"
          fill="none"
          className="group-hover:[&>g>path]:fill-white"
        >
          <g clipPath="url(#clip0_2306_782)">
            <path
              d="M10.424 11.0381C13.0443 11.0381 15.241 9.20045 15.8007 6.74617H19.2183C19.5403 6.74617 19.8573 6.87743 20.0851 7.10527L21.8187 8.83887C22.059 9.0791 22.371 9.19797 22.6855 9.19797C23.0001 9.19797 23.3146 9.0791 23.5523 8.83887C24.0303 8.36089 24.0303 7.58325 23.5523 7.10527L21.8187 5.37168C21.1228 4.67576 20.1991 4.29437 19.2159 4.29437H15.7982C15.241 1.83761 13.0443 0 10.424 0C7.38034 0 4.90625 2.47657 4.90625 5.51779C4.90625 8.55902 7.38282 11.0356 10.424 11.0356V11.0381ZM10.424 2.4518C12.1155 2.4518 13.49 3.8263 13.49 5.51779C13.49 7.20929 12.1155 8.58378 10.424 8.58378C8.73255 8.58378 7.35805 7.20929 7.35805 5.51779C7.35805 3.8263 8.73255 2.4518 10.424 2.4518Z"
              fill="#06A6B2"
              className="group-hover:fill-white"
            />
            <path
              d="M23.0467 54.9352L20.0847 57.8971C19.8568 58.125 19.5398 58.2562 19.2154 58.2562H15.7977C15.238 55.802 13.0413 53.9644 10.4211 53.9644C7.37741 53.9644 4.90332 56.4409 4.90332 59.4821C4.90332 62.5234 7.37989 64.9999 10.4211 64.9999C13.0413 64.9999 15.238 63.1623 15.7977 60.7081H19.2154C20.1862 60.7081 21.1323 60.3168 21.8183 59.6307L24.7803 56.6688C25.2582 56.1908 25.2582 55.4132 24.7803 54.9352C24.3023 54.4572 23.5246 54.4572 23.0467 54.9352ZM10.4236 62.5457C8.73209 62.5457 7.3576 61.1712 7.3576 59.4797C7.3576 57.7882 8.73209 56.4137 10.4236 56.4137C12.1151 56.4137 13.4896 57.7882 13.4896 59.4797C13.4896 61.1712 12.1151 62.5457 10.4236 62.5457Z"
              fill="#06A6B2"
              className="group-hover:fill-white"
            />
            <path
              d="M11.0381 32.5C11.0381 29.4563 8.5615 26.9822 5.52027 26.9822C2.47904 26.9822 0 29.4563 0 32.5C0 35.5437 2.47657 38.0178 5.51779 38.0178C8.55902 38.0178 11.0356 35.5412 11.0356 32.5H11.0381ZM2.4518 32.5C2.4518 30.8085 3.8263 29.434 5.51779 29.434C7.20929 29.434 8.58378 30.8085 8.58378 32.5C8.58378 34.1915 7.20929 35.566 5.51779 35.566C3.8263 35.566 2.4518 34.1915 2.4518 32.5Z"
              fill="#06A6B2"
              className="group-hover:fill-white"
            />
            <path
              d="M55.8019 9.19797C56.1164 9.19797 56.4285 9.0791 56.6687 8.83887L58.4048 7.10527C58.6326 6.87743 58.9496 6.74617 59.2716 6.74617H62.6892C63.2489 9.20045 65.4457 11.0381 68.0659 11.0381C71.1096 11.0381 73.5837 8.5615 73.5837 5.52027C73.5837 2.47904 71.1071 0 68.0659 0C65.4457 0 63.2489 1.83761 62.6892 4.29189H59.2716C58.2884 4.29189 57.3646 4.67576 56.6712 5.3692L54.9376 7.1028C54.4596 7.58077 54.4596 8.35842 54.9376 8.83639C55.1778 9.07662 55.4899 9.1955 55.8044 9.1955L55.8019 9.19797ZM68.0659 2.4518C69.7574 2.4518 71.1319 3.8263 71.1319 5.51779C71.1319 7.20929 69.7574 8.58378 68.0659 8.58378C66.3744 8.58378 64.9999 7.20929 64.9999 5.51779C64.9999 3.8263 66.3744 2.4518 68.0659 2.4518Z"
              fill="#06A6B2"
              className="group-hover:fill-white"
            />
            <path
              d="M68.0663 53.9619C65.446 53.9619 63.2493 55.7995 62.6896 58.2538H59.272C58.9475 58.2538 58.633 58.1225 58.4027 57.8947L55.4407 54.9327C54.9627 54.4548 54.1851 54.4548 53.7071 54.9327C53.2291 55.4107 53.2291 56.1883 53.7071 56.6663L56.6691 59.6283C57.3526 60.3118 58.3011 60.7056 59.272 60.7056H62.6896C63.2493 63.1599 65.446 64.9975 68.0663 64.9975C71.11 64.9975 73.584 62.5209 73.584 59.4797C73.584 56.4385 71.1075 53.9619 68.0663 53.9619ZM68.0663 62.5457C66.3748 62.5457 65.0003 61.1712 65.0003 59.4797C65.0003 57.7882 66.3748 56.4137 68.0663 56.4137C69.7578 56.4137 71.1322 57.7882 71.1322 59.4797C71.1322 61.1712 69.7578 62.5457 68.0663 62.5457Z"
              fill="#06A6B2"
              className="group-hover:fill-white"
            />
            <path
              d="M72.9719 26.9797C69.9282 26.9797 67.4541 29.4563 67.4541 32.4975C67.4541 35.5388 69.9307 38.0153 72.9719 38.0153C76.0131 38.0153 78.4897 35.5388 78.4897 32.4975C78.4897 29.4563 76.0131 26.9797 72.9719 26.9797ZM72.9719 35.566C71.2804 35.566 69.9059 34.1915 69.9059 32.5C69.9059 30.8085 71.2804 29.434 72.9719 29.434C74.6634 29.434 76.0379 30.8085 76.0379 32.5C76.0379 34.1915 74.6634 35.566 72.9719 35.566Z"
              fill="#06A6B2"
              className="group-hover:fill-white"
            />
            <path
              d="M64.3858 30.7541V19.2158C64.3858 17.8908 63.6701 16.6624 62.5135 16.0111L41.9555 4.41331C40.2516 3.4524 38.2357 3.4524 36.5318 4.41331L15.9738 16.0111C14.8198 16.6624 14.1016 17.8908 14.1016 19.2158V30.7541C14.1016 39.8282 18.9556 48.3278 26.7742 52.9367L38.6196 59.9231C38.8103 60.037 39.0282 60.094 39.2437 60.094C39.4591 60.094 39.6746 60.037 39.8678 59.9231L51.7132 52.9367C59.5292 48.3278 64.3858 39.8282 64.3858 30.7541ZM50.4675 50.8242L39.2437 57.4441L28.0199 50.8242C20.9468 46.6537 16.5558 38.9614 16.5558 30.7541V19.2158C16.5558 18.7724 16.7961 18.3638 17.1799 18.1484L37.7379 6.55059C38.2233 6.27816 38.7434 6.13205 39.2437 6.13205C39.7439 6.13205 40.2665 6.27569 40.7494 6.55059L61.3074 18.1484C61.6913 18.3663 61.9315 18.7749 61.9315 19.2158V30.7541C61.9315 38.9639 57.5381 46.6561 50.4675 50.8242Z"
              fill="#06A6B2"
              className="group-hover:fill-white"
            />
            <path
              d="M47.8296 25.754H47.2154V23.3021C47.2154 18.9062 43.6392 15.3301 39.2433 15.3301C34.8474 15.3301 31.2712 18.9062 31.2712 23.3021V25.754H30.6571C27.9526 25.754 25.751 27.9556 25.751 30.66V41.0839C25.751 45.1405 29.0522 48.4418 33.1089 48.4418H45.3728C49.4294 48.4418 52.7307 45.1405 52.7307 41.0839V30.66C52.7307 27.9556 50.529 25.754 47.8246 25.754H47.8296ZM33.7255 23.3021C33.7255 20.2584 36.2021 17.7844 39.2433 17.7844C42.2845 17.7844 44.7611 20.2609 44.7611 23.3021V25.754H33.723V23.3021H33.7255ZM50.2814 41.0839C50.2814 43.7883 48.0797 45.99 45.3753 45.99H33.1113C30.4069 45.99 28.2053 43.7883 28.2053 41.0839V30.66C28.2053 29.3078 29.3049 28.2082 30.6571 28.2082H47.8271C49.1793 28.2082 50.2789 29.3078 50.2789 30.66V41.0839H50.2814Z"
              fill="#06A6B2"
              className="group-hover:fill-white"
            />
            <path
              d="M39.2437 31.8857C37.2153 31.8857 35.5635 33.5351 35.5635 35.5659C35.5635 37.1633 36.5888 38.5229 38.0153 39.0306V42.3121C38.0153 42.9882 38.5651 43.538 39.2412 43.538C39.9173 43.538 40.4671 42.9882 40.4671 42.3121V39.0306C41.8936 38.5229 42.9189 37.1658 42.9189 35.5659C42.9189 33.5376 41.2695 31.8857 39.2387 31.8857H39.2437ZM39.2437 36.7918C38.5676 36.7918 38.0178 36.242 38.0178 35.5659C38.0178 34.8898 38.5676 34.34 39.2437 34.34C39.9198 34.34 40.4696 34.8898 40.4696 35.5659C40.4696 36.242 39.9198 36.7918 39.2437 36.7918Z"
              fill="#06A6B2"
              className="group-hover:fill-white"
            />
          </g>
          <defs>
            <clipPath id="clip0_2306_782">
              <rect width="78.4899" height="65" fill="white" />
            </clipPath>
          </defs>
        </svg>
      ),
      link: "https://chat.whatsapp.com/ExzapZTUL925VtSlyBVX1S",
    },
    {
      title: "Reverse Engineering",
      description:
        "Reverse engineering deconstructs software or systems to analyze functionality, structure, and vulnerabilities.",
      icon: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="95"
          height="69"
          viewBox="0 0 95 69"
          fill="none"
          className="group-hover:[&>g>path]:fill-white"
        >
          <g clipPath="url(#clip0_2303_567)">
            <path
              d="M41.9653 33.2111C41.3942 32.6369 40.4676 32.6369 39.8873 33.2111C39.3162 33.7853 39.3162 34.7118 39.8873 35.286L46.5952 41.9878C47.1998 42.5985 48.2084 42.559 48.7613 41.8815L65.4216 21.5118C65.9289 20.886 65.8408 19.9594 65.212 19.449C64.5831 18.9356 63.6535 19.0267 63.1461 19.6556L47.5279 38.7676L41.9714 33.2141L41.9653 33.2111Z"
              fill="#06A6B2"
              className="group-hover:fill-white"
            />
            <path
              d="M62.4993 30.5771C58.8325 31.5584 57.8451 36.5498 61.4208 38.7463C61.4451 38.7614 61.4694 38.7736 61.5089 38.7918C58.717 47.5199 48.5914 51.3296 40.9387 47.043C38.3473 45.5939 36.6977 43.6344 35.3944 40.8911C35.0481 40.1589 34.1701 39.846 33.438 40.1923C32.7088 40.5417 32.399 41.4166 32.7453 42.1488C34.2947 45.4389 36.3878 47.8632 39.517 49.6101C48.9104 54.8536 61.275 50.0627 64.4315 39.2749C68.5236 38.5397 69.4684 33.1078 65.8806 31.0267C64.8537 30.4313 63.6507 30.2733 62.5023 30.5802L62.4993 30.5771ZM65.1241 34.49C65.4644 35.7933 64.0578 36.8809 62.8851 36.2035C61.5697 35.444 62.074 33.3629 63.6507 33.3629C64.3191 33.3629 64.9388 33.8126 65.1241 34.49Z"
              fill="#06A6B2"
              className="group-hover:fill-white"
            />
            <path
              d="M32.0403 58.0833L46.9659 68.5704C47.4763 68.9258 48.1477 68.9258 48.6489 68.5704L63.5867 58.0833C70.2338 53.4139 73.8824 46.3718 73.8824 38.2452V14.3879C73.8824 13.8411 73.5847 13.3398 73.1017 13.0877L48.491 0.167143C48.0687 -0.0576675 47.5613 -0.0576675 47.13 0.167143L22.5253 13.0877C22.0423 13.3398 21.7324 13.8411 21.7324 14.3879V38.2452C21.7324 46.3688 25.3962 53.4139 32.0433 58.0833H32.0403ZM24.6641 15.275L47.8074 3.12614L70.9508 15.275V38.2452C70.9508 45.3845 67.7336 51.5759 61.8915 55.6802L47.8074 65.5749L33.7233 55.6802C27.8813 51.5789 24.6641 45.3845 24.6641 38.2452V15.275Z"
              fill="#06A6B2"
              className="group-hover:fill-white"
            />
            <path
              d="M82.474 28.4204L83.5525 28.1288C84.3424 27.9192 84.8011 27.1141 84.5915 26.3303C84.3818 25.5495 83.5768 25.0817 82.796 25.2913L76.4102 27.0229L76.1003 27.1992L75.9636 27.3146L75.7175 27.6488L75.5808 27.9556C75.5808 27.9556 75.5808 27.9769 75.5687 27.989C75.5687 27.989 75.4745 28.5055 75.5444 28.5754C75.5444 28.7546 75.7054 29.1222 75.8178 29.2528C75.8299 29.2619 75.8421 29.2741 75.8421 29.2802C75.8785 29.3166 75.9059 29.3531 75.9423 29.3865C75.9423 29.3926 75.9545 29.4017 75.9545 29.4078L80.4841 33.9344C81.0583 34.5116 81.997 34.5055 82.5621 33.9344C83.1332 33.3602 83.1332 32.4306 82.5621 31.8594L82.0791 31.3825C89.1454 33.8311 91.8067 36.6078 91.8067 38.6129C91.8067 41.0706 87.8208 44.6797 76.6441 47.4291C74.958 47.8453 75.2831 50.3273 76.9904 50.3273C77.1028 50.3273 77.2244 50.3121 77.3368 50.2817C88.5621 47.5202 94.7505 43.3764 94.7505 38.6129C94.7505 34.6361 90.4305 31.0908 82.474 28.4204Z"
              fill="#06A6B2"
              className="group-hover:fill-white"
            />
            <path
              d="M33.128 38.2572C37.0166 37.2091 37.6272 31.9808 34.1184 30.0456C37.0804 20.7828 48.1599 17.0946 56.1103 22.6845C56.7787 23.1524 57.6962 22.9944 58.1518 22.3352C58.6227 21.6729 58.4739 20.7554 57.8055 20.2845C48.0688 13.4248 34.5012 18.1822 31.1958 29.5625C28.65 29.997 26.9852 32.5671 27.6687 35.1038C28.2004 37.0937 30.008 38.4091 31.9766 38.4091C32.3594 38.4091 32.7422 38.3605 33.128 38.2572ZM30.5062 34.3443C30.2844 33.5332 30.7675 32.6977 31.5817 32.482C32.3746 32.2602 33.2374 32.7433 33.45 33.5575C33.6627 34.3656 33.1766 35.198 32.3746 35.4228C31.5574 35.6385 30.7158 35.1554 30.5062 34.3443Z"
              fill="#06A6B2"
              className="group-hover:fill-white"
            />
            <path
              d="M12.0658 49.0939C11.2851 49.3036 10.8172 50.1086 11.0269 50.8894C11.2456 51.6762 12.0507 52.1319 12.8345 51.9284L19.1474 50.2271L19.5302 50.0145C19.5302 50.0145 19.5423 50.0053 19.5423 49.9993C19.9707 49.6469 20.1438 49.1881 20.0861 48.6443C20.0466 48.2767 19.8036 47.9669 19.8005 47.9669C19.8005 47.9547 19.7884 47.9486 19.7884 47.9395L15.1464 43.2853C14.5661 42.7111 13.6365 42.7111 13.0684 43.2853C12.4881 43.8595 12.4881 44.7891 13.0684 45.3633L13.5393 45.8403C6.47292 43.3886 3.81164 40.6149 3.81164 38.6099C3.81164 36.1521 7.79748 32.5461 18.9864 29.7936C19.7762 29.5992 20.2502 28.8033 20.0618 28.0164C19.8643 27.2296 19.0714 26.7465 18.2785 26.941C7.05317 29.7055 0.876953 33.8493 0.876953 38.6099C0.876953 42.5866 5.19696 46.1349 13.1534 48.8023L12.0628 49.0939H12.0658Z"
              fill="#06A6B2"
              className="group-hover:fill-white"
            />
          </g>
          <defs>
            <clipPath id="clip0_2303_567">
              <rect
                width="93.8767"
                height="68.8376"
                fill="white"
                transform="translate(0.876953)"
              />
            </clipPath>
          </defs>
        </svg>
      ),
      link: "https://chat.whatsapp.com/Giz4z2RHCGJLZb5NX5Oyuh",
    },
    {
      title: "SOC Ops Room ",
      description:
        "RA Security Operations Center (SOC) monitors, detects, and responds to cybersecurity threats in real time.",
      icon: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="95"
          height="69"
          viewBox="0 0 95 69"
          fill="none"
          className="group-hover:[&>g>path]:fill-white"
        >
          <g xmlns="http://www.w3.org/2000/svg" clipPath="url(#clip0_2303_614)">
            <path
              d="M52.5647 25.897C52.0003 25.897 51.541 26.3544 51.541 26.9206V34.0487C51.541 34.613 52.0003 35.0705 52.5647 35.0705C53.129 35.0705 53.5864 34.613 53.5864 34.0487V26.9206C53.5864 26.3544 53.129 25.897 52.5647 25.897Z"
              fill="#06A6B2"
            />
            <path
              d="M62.4371 35.556C63.4458 32.8338 63.2527 29.9578 62.1259 27.5112C60.9991 25.0608 58.9387 23.0416 56.2127 22.033C53.4905 21.0262 50.6164 21.2174 48.1679 22.3442C45.7175 23.4709 43.6983 25.5314 42.6896 28.2555C41.681 30.9777 41.8741 33.8537 42.999 36.3003C44.1258 38.7507 46.1862 40.7699 48.9122 41.7786C51.6344 42.7853 54.5104 42.5941 56.957 41.4673C59.4074 40.3406 61.4266 38.2801 62.4352 35.5542L62.4371 35.556ZM56.1115 39.615C51.8631 41.5686 46.8105 39.705 44.8551 35.4529C42.9015 31.2046 44.7651 26.1519 49.0172 24.1965C50.9895 23.2891 53.3105 23.1353 55.5115 23.949C57.7088 24.7627 59.368 26.3882 60.2736 28.3586C62.2271 32.6069 60.3636 37.6596 56.1115 39.615Z"
              fill="#06A6B2"
            />
            <path
              d="M32.3165 25.7974H23.1336V23.9844C23.1336 23.0864 23.5011 22.269 24.0936 21.6765C25.4022 20.3679 27.5057 20.4054 28.7712 21.7328C29.1593 22.1415 29.8061 22.1565 30.213 21.7684C30.6217 21.3803 30.6367 20.7335 30.2486 20.3267C29.7536 19.8055 29.1574 19.3855 28.4919 19.1005C24.9953 17.5951 21.0863 20.1898 21.0863 23.9863V25.7993H20.4902C19.1234 25.7993 18.0098 26.9129 18.0098 28.2797V37.5469C18.0098 38.9118 19.1234 40.0273 20.4902 40.0273H32.3146C33.6795 40.0273 34.795 38.9136 34.795 37.5469V28.2797C34.795 26.9148 33.6814 25.7993 32.3146 25.7993L32.3165 25.7974ZM32.7515 37.545C32.7515 37.7831 32.5527 37.98 32.3165 37.98H20.492C20.2539 37.98 20.0571 37.7831 20.0571 37.545V28.2797C20.0571 28.0416 20.2558 27.8447 20.492 27.8447H32.3165C32.5527 27.8447 32.7515 28.0416 32.7515 28.2797V37.545Z"
              fill="#06A6B2"
            />
            <path
              d="M52.5647 35.8672C52.0003 35.8672 51.541 36.3228 51.541 36.889C51.541 37.4552 52.0003 37.9126 52.5647 37.9126C53.129 37.9126 53.5864 37.4552 53.5864 36.8908C53.5864 36.3265 53.129 35.8672 52.5647 35.8672Z"
              fill="#06A6B2"
            />
            <path
              d="M67.3285 60.1479H67.3248L64.1938 51.4394C63.8995 50.6182 63.1646 50.0651 62.3284 49.977L60.7404 45.6087C61.0348 45.0818 61.1098 44.4388 60.9017 43.8295C63.442 42.0428 65.3075 39.5118 66.2993 36.6583C68.7515 29.6015 65.4818 21.8172 58.7194 18.6263C56.8352 17.7376 54.7635 17.2483 52.6393 17.2239C52.6806 16.4252 52.7143 15.6134 52.7406 14.7904C52.7781 13.6449 52.7987 12.4881 52.8081 11.3238C52.8324 10.7333 52.4144 10.2702 51.8538 10.2346C47.2305 9.93835 42.3691 8.9147 37.8695 7.10363C33.848 5.48378 30.119 3.23775 27.1155 0.31678C26.6862 -0.114429 26.0206 -0.0975556 25.6269 0.331778C23.0903 3.09151 19.4082 5.28693 15.3904 6.90864C14.5036 7.26674 13.6018 7.59483 12.6907 7.89667C12.6757 7.90042 12.6607 7.90605 12.6457 7.91167C8.64857 9.23155 4.51272 10.0077 0.954308 10.2346C0.41811 10.2664 -0.00372483 10.7145 2.4804e-05 11.2582C0.0768924 20.8573 0.993679 30.8051 4.66458 39.2999C8.37672 47.8903 14.8692 54.9584 26.0713 58.6387C26.2794 58.708 26.4969 58.7174 26.72 58.6443C34.7536 56.0214 41.0173 51.3887 45.3313 44.6338C47.8042 46.0136 50.667 46.6754 53.573 46.4542C53.7942 47.0485 54.2517 47.4947 54.8029 47.7178L56.3908 52.0862C55.7797 52.6824 55.5509 53.5954 55.8471 54.4241H55.849L58.9818 63.1307C59.5068 64.595 61.1266 65.3561 62.5815 64.8349L65.6243 63.7457V63.7419C67.0923 63.2114 67.8479 61.599 67.3285 60.1479ZM36.9846 50.9482C34.0955 53.2617 30.6102 55.1834 26.405 56.5989C16.026 53.1023 9.99281 46.5011 6.5319 38.4956C3.11598 30.5857 2.17482 21.2716 2.04733 12.1956C5.2289 11.9163 8.78355 11.2395 12.2782 10.1671L13.0431 13.0506L8.21548 19.0537C7.86302 19.4924 7.93239 20.1355 8.37109 20.488C8.8098 20.8404 9.45287 20.7711 9.80533 20.3324L10.8477 19.0369L12.6494 20.8386L12.6269 24.1514C12.6232 24.2001 12.6232 24.2507 12.6269 24.3013L12.6026 28.0472C12.6007 28.6097 13.0544 29.0671 13.6168 29.069C14.1793 29.0709 14.6367 28.6172 14.6386 28.0547L14.6574 25.0306L16.9484 24.457C17.4958 24.3201 17.8277 23.7651 17.6908 23.2177C17.554 22.6703 16.999 22.3365 16.4534 22.4753L14.6742 22.9215L14.6892 20.5086C14.7174 20.2161 14.618 19.9143 14.3949 19.6893L12.1376 17.432L14.9423 13.943C15.1504 13.6974 15.2367 13.358 15.1504 13.0243L14.2224 9.52402C18.7632 7.92292 23.2178 5.58315 26.4144 2.45032C32.9106 8.35038 42.1666 11.4701 50.7626 12.1956C50.7383 13.9111 50.6858 15.6078 50.592 17.342C45.5844 17.9963 41.3454 21.1498 39.24 25.6118C37.6427 28.9978 37.3352 32.9949 38.7001 36.7989C39.6956 39.5736 41.441 41.8628 43.6252 43.5182C41.8647 46.278 39.6843 48.7846 36.9865 50.9463L36.9846 50.9482ZM55.669 45.8318C55.5978 45.858 55.5059 45.8149 55.4797 45.7418L55.2341 45.0556C55.0897 44.5906 54.6285 44.2832 54.1298 44.3488C48.2785 45.1212 42.6297 41.724 40.6161 36.1127C39.4425 32.8393 39.7068 29.4009 41.0829 26.4836C42.4591 23.5664 44.9469 21.176 48.2204 20.0024C51.3776 18.87 54.8272 19.0425 57.8495 20.4692C60.7648 21.8453 63.1571 24.3332 64.3307 27.6048C66.3443 33.218 64.1357 39.4405 59.1337 42.549C58.7344 42.7983 58.5488 43.2989 58.7119 43.7601L58.9725 44.4857C58.9987 44.5569 58.9556 44.6506 58.8844 44.675L55.6672 45.8299L55.669 45.8318ZM59.0025 46.7992L60.3317 50.4588L58.2394 51.2088L56.9102 47.551L59.0025 46.8011V46.7992ZM64.94 61.824V61.8202L61.8953 62.9095C61.4941 63.052 61.0423 62.842 60.8979 62.4446L57.7707 53.7435H57.7726C57.7388 53.6498 57.782 53.541 57.8738 53.5054L62.0378 52.0187C62.1372 51.9831 62.2459 52.0393 62.2778 52.1274L65.4087 60.8341H65.405C65.5493 61.239 65.3337 61.6871 64.9419 61.8259L64.94 61.824Z"
              fill="#06A6B2"
            />
          </g>
          <defs xmlns="http://www.w3.org/2000/svg">
            <clipPath id="clip0_2303_614">
              <rect width="67.4916" height="65" fill="white" />
            </clipPath>
          </defs>
        </svg>
      ),
      link: "https://chat.whatsapp.com/JWOcfoa7YqK6pMFeE6BeNY",
    },
  ];

  useEffect(() => {
    const handleResize = () => {
      if (window.innerWidth < 768) {
        setCardsToShow(1);
      } else if (window.innerWidth < 1024) {
        setCardsToShow(2);
      } else {
        setCardsToShow(3);
      }
    };

    handleResize();
    window.addEventListener("resize", handleResize);
    return () => window.removeEventListener("resize", handleResize);
  }, []);

  // Fix: Update the navigation functions to move one card at a time
  const nextSlide = () => {
    setCurrentIndex((prevIndex) => {
      // Calculate the maximum valid index based on cards to show
      const maxIndex = communityCards.length - cardsToShow;
      // Move one card at a time, and loop back to the beginning if at the end
      return prevIndex >= maxIndex ? 0 : prevIndex + 1;
    });
  };

  const prevSlide = () => {
    setCurrentIndex((prevIndex) => {
      // Calculate the maximum valid index based on cards to show
      const maxIndex = communityCards.length - cardsToShow;
      // Move one card at a time, and loop to the end if at the beginning
      return prevIndex <= 0 ? maxIndex : prevIndex - 1;
    });
  };

  return (
    <div
      id="community"
      className="w-full bg-[url('/matrix-bg.png')] bg-center bg-cover bg-no-repeat py-20 px-4 m-auto my-20 z-10 "
    >
      <h2 className="text-lightgrey md:text-4xl text-2xl font-display  max-w-6xl p-4 m-auto">
        Our Community and Topics
      </h2>
      <div className="max-w-6xl mx-auto">
        {/* Main content container with proper padding */}
        <div className="p-4 overflow-hidden">
          <div
            className="flex transition-transform duration-300 gap-4 ease-in-out"
            style={{
              // Fix: Calculate the translation based on card width instead of percentage
              transform: `translateX(-${
                (currentIndex * 100) / communityCards.length
              }%)`,
              width: `${(communityCards.length / cardsToShow) * 100}%`,
            }}
          >
            {communityCards.map((card, index) => (
              <div
                key={index}
                className="group flex flex-col min-h-[400px] gap-8 p-6 bg-center bg-cover h-fit border border-teal border-opacity-50 rounded-xl transition-all duration-300 hover:bg-teal hover:bg-opacity-10"
                style={{
                  width: `${(100 / communityCards.length) * cardsToShow}%`,
                }}
              >
                {card.icon}
                <h3 className="text-3xl font-bold text-gray-200 group-hover:text-gray-800">
                  {card.title}
                </h3>
                <p className="text-gray-300 group-hover:text-gray-700">
                  {card.description}
                </p>
                <a
                  href={card.link}
                  className="group-hover:bg-gray-800 group-hover:text-white text-sm bg-teal flex items-center gap-1 hover:gap-3 transition-all shadow-teal shadow-lg hover:shadow-md text-gray-800 w-fit px-6 py-2 rounded-full font-semibold"
                >
                  Join our community <ChevronRight />
                </a>
              </div>
            ))}
          </div>
        </div>

        {/* Navigation buttons */}
        <div className="flex justify-center items-center mt-8 gap-4">
          <button
            onClick={prevSlide}
            className="bg-teal p-2 rounded-full shadow-md hover:bg-teal/80 transition-all"
            aria-label="Previous slide"
          >
            <ChevronLeft className="text-gray-800" size={24} />
          </button>

          <button
            onClick={nextSlide}
            className="bg-teal p-2 rounded-full shadow-md hover:bg-teal/80 transition-all"
            aria-label="Next slide"
          >
            <ChevronRight className="text-gray-800" size={24} />
          </button>
        </div>
      </div>
    </div>
  );
}
